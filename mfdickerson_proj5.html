<!DOCTYPE html>
<html lan="en">
	<head>
		<meta charset="utf-8">
    	<meta author="Mark Dickerson">
		<title>Project 5</title>
		<script type="text/javascript" src="../lib/webgl-utils.js"></script>
		<script type="text/javascript" src="../lib/MV.js"></script>
		<script type="text/javascript" src="../lib/InitShaders.js"></script>
		
		
		<script type="text/javascript" src="mfdickerson_proj5.js"></script>
		
		
		<script id="vertex-shader" type="x-shader/x-vertex">
			attribute vec4 a_Position;
		
			uniform mat4 u_Projection;
			uniform mat4 u_ViewMatrix;
			uniform mat4 u_ModelMatrix;
		
			varying vec4 v_Position;
			void main(){
				gl_Position = u_Projection* u_ViewMatrix*u_ModelMatrix* a_Position;
				gl_PointSize = 4.0;
				v_Position = a_Position;
			}
		</script>
		
		<script id="fragment-shader" type="x-shader/x-fragment">
			precision mediump float;
			varying vec4 v_Position;
			uniform float u_SolidColor;
			uniform float u_MaxYVal;
			uniform float u_MinYVal;


			void main(){
				if (u_SolidColor == 1.0) {
					if (u_MinYVal == u_MaxYVal) {
						// If y is a constant value, color everything flat color
						gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);
					} else {
						float colorVal = (v_Position[1]-u_MinYVal)/(u_MaxYVal - u_MinYVal);
						gl_FragColor = vec4(0.0, colorVal, 1.0, 1.0);
					}
				} else {
					// Colors Wire Frame White
					gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);
				}
			}
		</script>
		<style>

	      #graph {
	        /*display: inline-block;*/
	        float:left; /* add this */
	      }


	      #options {
	        /*display: inline-block;*/
	        overflow: hidden; /* if you don't want #second to wrap below #first */
	      }
		</style>
		
		
		
	</head>
	<body>
		<div id="graph">
			<canvas id="gl-canvas" width="640" height="640">
				You need a better web browser
			</canvas>
		</div>

		<div id="options">

			<p>
				 Valid Javascript Equation: Y=<input type="text" id="equationDisplay" value="Math.sin(Math.sin(t)*(Math.pow(x*0.2,2) + Math.pow(z*0.2,2)))" />
			</p>

			<p>
				 <button type="button" id="exampleButton">Example: Y=Math.sin(Math.sin(t)*(Math.pow(x*0.2,2) + Math.pow(z*0.2,2)))</button> 
			</p>
			
			<p>
				Number of X steps: <input type="range" id="xStepSlider" min="2" max="100" value="50" />
				<input type="text" id="xStepDisplay" value="50" />
			</p>
			<p>
				Number of Z steps: <input type="range" id="zStepSlider" min="2" max="100" value="50" />
				<input type="text" id="zStepDisplay" value="50" />
			</p>

			
			<p>
				Y-Roll: <input type="range" id="yRollSlider" min="0" max="360" value="180" />
				<input type="text" id="yRollDisplay" value="180" />
			</p>

			<p>
				X-Roll: <input type="range" id="xRollSlider" min="0" max="360" value="180" />
				<input type="text" id="xRollDisplay" value="180" />
			</p>

			<p>
				Zoom: <input type="range" id="zoomSlider" min="0" max="75" value="20" />
			</p>

			<div class="filter_options" id="filterBox">
			  <input class="filter_button" id="point_button" type="checkbox" value="Point">Point</input><br>
			  <input class="filter_button" id="wireFrame_button" type="checkbox" value="WireFrame" checked>Wire Frame</input><br>
			  <input class="filter_button" id="skin_button" type="checkbox" value="Skin">Skin</input><br>
			</div>
		</div>
		<div id="description">
			<h1>Assignment Description</h1>
			<p>
				<a href="http://www.cs.middlebury.edu/~candrews/classes/cs461/programs/program5.html">Assignment Description</a>	
			</p>
			<h1>Features</h1>
			<p>
				 <ul>
  					<li>Function Editing: Type in a function using Javascript syntax. You can use x, z, and t as variables</li>
  					<li>Example Functin: Click on the example button to see an example</li>
  					<li>Dynamic Functions: When editing the functin you can use t, as the fourth variable time</li>
  					<li>Zoom: Zoom in and out using the Zoom slider</li>
  					<li>Rotate: Rotate around the x or y axis by using the rotation sliders, or by clicking and dragging the</li>
				</ul> 
			</p>
		</div>
	</body>
</html>